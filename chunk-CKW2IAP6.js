import{H as R,I as H,K as $,a as F,ca as j,da as G,n as B,pa as O,qa as V,x as M,za as q}from"./chunk-DLRE2GSZ.js";import{Fb as x,Jb as _,Lb as b,Mb as g,Nb as u,Ob as f,Pb as t,Qb as e,Rb as o,Yc as A,Zc as w,_b as I,a as C,b as y,cb as a,hb as E,kc as r,lc as s,mc as c,pa as S,pb as v,pc as L,qc as D,rc as k,sc as d,uc as P,vb as T,vc as h}from"./chunk-SNB637Z6.js";var z=()=>[0,1,2,3,4],J=(i,l)=>["/transactions",i,l],K=i=>({"text-primary":i}),N=(i,l)=>l.transferId;function Q(i,l){i&1&&(t(0,"tr")(1,"td")(2,"p",7),o(3,"span",8),e()(),t(4,"td")(5,"p",7),o(6,"span",8),e()(),t(7,"td")(8,"p",7),o(9,"span",8),e()(),t(10,"td")(11,"p",7),o(12,"span",8),e()(),t(13,"td")(14,"p",7),o(15,"span",8),e()(),t(16,"td")(17,"p",7),o(18,"span",8),e()(),t(19,"td")(20,"p",7),o(21,"span",8),e()(),t(22,"td")(23,"p",7),o(24,"span",8),e()()())}function U(i,l){i&1&&u(0,Q,25,0,"tr",null,g),i&2&&f(L(0,z))}function W(i,l){if(i&1&&(t(0,"tr",9)(1,"td"),r(2),d(3,"date"),e(),t(4,"td"),r(5),e(),t(6,"td"),r(7),e(),t(8,"td")(9,"code"),r(10),e()(),t(11,"td"),r(12),e(),t(13,"td"),r(14),d(15,"currency"),e(),t(16,"td"),r(17),d(18,"currency"),e(),t(19,"td"),S(),o(20,"svg",10),e()()),i&2){let n=l.$implicit;x("routerLink",k(23,J,n.contractAddress,n.transferId)),a(2),s(P(3,10,n.time,"short")),a(3),s(n.assetSymbol),a(),_(D(26,K,n.transferType==="Buy")),a(),c(" ",n.transferType," "),a(3),c(" ",n.contractAddress===n.from?n.to:n.from," "),a(2),s(n.tokens),a(2),c(" ",h(15,13,n.tokenPrice,n.paymentDetails.currencyCode,"symbol","1.2-2")," "),a(3),c(" ",h(18,18,n.paymentDetails.credit,n.paymentDetails.currencyCode,"symbol","1.2-2")," ")}}function X(i,l){if(i&1&&u(0,W,21,28,"tr",9,N),i&2){let n=I();f(n.transactions)}}var ae=(()=>{class i{constructor(n){this.http=n,this.transactions=[],this.isLoading=!0}ngOnInit(){this.http.get("/assets/trxs").subscribe({next:({transfers:n})=>{this.transactions=n.flatMap(m=>m.trxs.map(p=>y(C({},p),{contractAddress:m?.contractAddress??""}))),this.isLoading=!1},error:()=>{console.log("Failed to load transactions"),this.isLoading=!1}})}static{this.\u0275fac=function(m){return new(m||i)(E(F))}}static{this.\u0275cmp=v({type:i,selectors:[["app-transaction-list"]],decls:32,vars:4,consts:[[1,"mb-4"],[2,"margin","0"],["xs",""],[1,"mb-0"],["cTable","",1,"mb-0","border",3,"hover","responsive","striped"],[1,"text-nowrap","text-truncate"],[1,"bg-body-tertiary"],["cPlaceholderAnimation","glow",2,"margin","0"],["cCol","12","cPlaceholder","",2,"border-radius","1rem","width","100%"],[2,"cursor","pointer",3,"routerLink"],["cIcon","","name","cilChevronRight"]],template:function(m,p){m&1&&(t(0,"c-row",0)(1,"c-col")(2,"h3",1),r(3,"Transactions"),e()()(),t(4,"c-row")(5,"c-col",2)(6,"c-card",0)(7,"c-card-header")(8,"h5",3),r(9,"Transaction List"),e()(),t(10,"c-card-body")(11,"table",4)(12,"thead",5)(13,"tr")(14,"th",6),r(15,"Time"),e(),t(16,"th",6),r(17,"Asset Symbol"),e(),t(18,"th",6),r(19,"Transfer Type"),e(),t(20,"th",6),r(21,"Address"),e(),t(22,"th",6),r(23,"Tokens"),e(),t(24,"th",6),r(25,"Token Price"),e(),t(26,"th",6),r(27,"Payment Details Credit"),e(),o(28,"th",6),e()(),t(29,"tbody"),T(30,U,2,1)(31,X,2,0),e()()()()()()),m&2&&(a(11),x("hover",!0)("responsive",!0)("striped",!0),a(19),b(p.isLoading?30:31))},dependencies:[R,q,G,j,$,H,M,O,V,A,B,w],encapsulation:2})}}return i})();export{ae as TransactionListComponent};
