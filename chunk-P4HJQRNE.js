import{a as U}from"./chunk-IWLDGLAP.js";import{Da as N,I as A,J as B,L as F,a as D,fa as M,ga as R,n as w,ta as j,ua as H,x as P}from"./chunk-H2UEIIB4.js";import{Cb as _,Gb as g,Ib as x,Jb as y,Kb as v,Lb as S,Mb as n,Nb as t,Ob as o,Xb as d,Zc as I,_c as k,cb as r,hb as f,hc as a,ic as u,jc as l,pa as T,pb as b,pc as L,qc as E,rc as h,tc as C,vb as p}from"./chunk-OF6GQXFW.js";var V=()=>[0,1,2,3,4],$=e=>["/transactions",e],G=e=>({"text-primary":e}),O=(e,c)=>c.transferId;function q(e,c){if(e&1&&a(0),e&2){let i=d();l(" (",i.transactions[0].asset.markets[0].currencyCode,") ")}}function z(e,c){if(e&1&&a(0),e&2){let i=d();l(" (",i.transactions[0].asset.markets[0].currencyCode,") ")}}function J(e,c){e&1&&(n(0,"tr")(1,"td")(2,"p",7),o(3,"span",8),t()(),n(4,"td")(5,"p",7),o(6,"span",8),t()(),n(7,"td")(8,"p",7),o(9,"span",8),t()(),n(10,"td")(11,"p",7),o(12,"span",8),t()(),n(13,"td")(14,"p",7),o(15,"span",8),t()(),n(16,"td")(17,"p",7),o(18,"span",8),t()(),n(19,"td")(20,"p",7),o(21,"span",8),t()(),n(22,"td")(23,"p",7),o(24,"span",8),t()()())}function K(e,c){e&1&&v(0,J,25,0,"tr",null,y),e&2&&S(L(0,V))}function Q(e,c){e&1&&(n(0,"tr")(1,"td",9),a(2," No transactions available "),t()())}function W(e,c){if(e&1&&(n(0,"tr",10)(1,"td"),a(2),h(3,"date"),t(),n(4,"td"),a(5),t(),n(6,"td"),a(7),t(),n(8,"td")(9,"code"),a(10),t()(),n(11,"td"),a(12),t(),n(13,"td"),a(14),h(15,"number"),t(),n(16,"td"),a(17),h(18,"number"),t(),n(19,"td"),T(),o(20,"svg",11),t()()),e&2){let i=c.$implicit,s=d(2);_("routerLink",E(19,$,i.transferId)),r(2),u(C(3,10,i.time*1e3,"short")),r(3),u(i.asset.symbol),r(),g(E(21,G,i.action==="Buy")),r(),l(" ",i.action," "),r(3),l(" ",s.contractAddress===i.from?i.to:i.from," "),r(2),u(i.tokens),r(2),l(" ",C(15,13,i.price,"1.2-5")," "),r(3),l(" ",C(18,16,i.tokens*i.price,"1.2-5")," ")}}function X(e,c){if(e&1&&v(0,W,21,23,"tr",10,O),e&2){let i=d();S(i.transactions)}}var ot=(()=>{class e{constructor(i,s){this.http=i,this.userService=s,this.contractAddress=null,this.transactions=[],this.isLoading=!0}ngOnInit(){this.userService.getUser().subscribe(i=>{this.contractAddress=i?.contacts?.find(s=>s.typeName==="Email")?.address||null}),this.http.get("/issuer/asset/transfers/100").subscribe({next:({transfers:i})=>{this.transactions=i,this.isLoading=!1},error:()=>{this.isLoading=!1}})}static{this.\u0275fac=function(s){return new(s||e)(f(D),f(U))}}static{this.\u0275cmp=b({type:e,selectors:[["app-transaction-list"]],decls:35,vars:6,consts:[[1,"mb-4"],[2,"margin","0"],["xs",""],[1,"mb-0"],["cTable","",1,"mb-0","border",3,"hover","responsive","striped"],[1,"text-nowrap","text-truncate"],[1,"bg-body-tertiary"],["cPlaceholderAnimation","glow",2,"margin","0"],["cCol","12","cPlaceholder","",2,"border-radius","1rem","width","100%"],["colspan","8",1,"text-center",2,"padding-top","10rem","padding-bottom","10rem"],[2,"cursor","pointer",3,"routerLink"],["cIcon","","name","cilChevronRight"]],template:function(s,m){s&1&&(n(0,"c-row",0)(1,"c-col")(2,"h3",1),a(3,"Transactions"),t()()(),n(4,"c-row")(5,"c-col",2)(6,"c-card",0)(7,"c-card-header")(8,"h5",3),a(9,"Transaction List"),t()(),n(10,"c-card-body")(11,"table",4)(12,"thead",5)(13,"tr")(14,"th",6),a(15,"Time"),t(),n(16,"th",6),a(17,"Symbol"),t(),n(18,"th",6),a(19,"Type"),t(),n(20,"th",6),a(21,"Address"),t(),n(22,"th",6),a(23,"Tokens"),t(),n(24,"th",6),a(25," Price "),p(26,q,1,1),t(),n(27,"th",6),a(28," Value "),p(29,z,1,1),t(),o(30,"th",6),t()(),n(31,"tbody"),p(32,K,2,1)(33,Q,3,0,"tr")(34,X,2,0),t()()()()()()),s&2&&(r(11),_("hover",!0)("responsive",!0)("striped",!0),r(15),x(m.transactions.length>0?26:-1),r(3),x(m.transactions.length>0?29:-1),r(3),x(m.isLoading?32:!m.isLoading&&m.transactions.length===0?33:34))},dependencies:[A,N,R,M,F,B,P,j,H,I,w,k],encapsulation:2})}}return e})();export{ot as TransactionListComponent};
