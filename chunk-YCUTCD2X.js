import{Aa as N,G as M,H as R,J as H,a as w,da as V,ea as $,n as F,qa as j,ra as G,x as B}from"./chunk-AWGUPIYV.js";import{$c as P,Cb as h,Gb as b,Ib as p,Jb as L,Kb as _,Lb as S,Mb as n,Nb as t,Ob as l,Xb as x,_c as A,a as T,b as v,cb as r,hb as y,hc as a,ic as f,jc as m,pa as E,pb as g,pc as I,qc as D,rc as k,sc as u,uc as C,vb as d}from"./chunk-JYFIODHJ.js";var O=()=>[0,1,2,3,4],q=(e,o)=>["/transactions",e,o],z=e=>({"text-primary":e}),J=(e,o)=>o.transferId;function K(e,o){if(e&1&&a(0),e&2){let i=x();m(" (",i.transactions[0].paymentDetails.currencyCode,") ")}}function Q(e,o){if(e&1&&a(0),e&2){let i=x();m(" (",i.transactions[0].paymentDetails.currencyCode,") ")}}function U(e,o){e&1&&(n(0,"tr")(1,"td")(2,"p",7),l(3,"span",8),t()(),n(4,"td")(5,"p",7),l(6,"span",8),t()(),n(7,"td")(8,"p",7),l(9,"span",8),t()(),n(10,"td")(11,"p",7),l(12,"span",8),t()(),n(13,"td")(14,"p",7),l(15,"span",8),t()(),n(16,"td")(17,"p",7),l(18,"span",8),t()(),n(19,"td")(20,"p",7),l(21,"span",8),t()(),n(22,"td")(23,"p",7),l(24,"span",8),t()()())}function W(e,o){e&1&&_(0,U,25,0,"tr",null,L),e&2&&S(I(0,O))}function X(e,o){e&1&&(n(0,"tr")(1,"td",9),a(2," No transactions available "),t()())}function Y(e,o){if(e&1&&(n(0,"tr",10)(1,"td"),a(2),u(3,"date"),t(),n(4,"td"),a(5),t(),n(6,"td"),a(7),t(),n(8,"td")(9,"code"),a(10),t()(),n(11,"td"),a(12),t(),n(13,"td"),a(14),u(15,"number"),t(),n(16,"td"),a(17),u(18,"number"),t(),n(19,"td"),E(),l(20,"svg",11),t()()),e&2){let i=o.$implicit;h("routerLink",k(19,q,i.contractAddress,i.transferId)),r(2),f(C(3,10,i.time*1e3,"short")),r(3),f(i.assetSymbol),r(),b(D(22,z,i.transferType==="Buy")),r(),m(" ",i.transferType," "),r(3),m(" ",i.contractAddress===i.from?i.to:i.from," "),r(2),f(i.tokens),r(2),m(" ",C(15,13,i.tokenPrice,"1.2-5")," "),r(3),m(" ",C(18,16,i.paymentDetails.credit,"1.2-5")," ")}}function Z(e,o){if(e&1&&_(0,Y,21,24,"tr",10,J),e&2){let i=x();S(i.transactions)}}var lt=(()=>{class e{constructor(i){this.http=i,this.transactions=[],this.isLoading=!0}ngOnInit(){this.http.get("/assets/trxs").subscribe({next:({transfers:i})=>{this.transactions=i.flatMap(s=>s.trxs.map(c=>v(T({},c),{contractAddress:s?.contractAddress??""}))),this.isLoading=!1},error:()=>{console.log("Failed to load transactions"),this.isLoading=!1}})}static{this.\u0275fac=function(s){return new(s||e)(y(w))}}static{this.\u0275cmp=g({type:e,selectors:[["app-transaction-list"]],decls:35,vars:6,consts:[[1,"mb-4"],[2,"margin","0"],["xs",""],[1,"mb-0"],["cTable","",1,"mb-0","border",3,"hover","responsive","striped"],[1,"text-nowrap","text-truncate"],[1,"bg-body-tertiary"],["cPlaceholderAnimation","glow",2,"margin","0"],["cCol","12","cPlaceholder","",2,"border-radius","1rem","width","100%"],["colspan","4",1,"text-center",2,"padding-top","10rem","padding-bottom","10rem"],[2,"cursor","pointer",3,"routerLink"],["cIcon","","name","cilChevronRight"]],template:function(s,c){s&1&&(n(0,"c-row",0)(1,"c-col")(2,"h3",1),a(3,"Transactions"),t()()(),n(4,"c-row")(5,"c-col",2)(6,"c-card",0)(7,"c-card-header")(8,"h5",3),a(9,"Transaction List"),t()(),n(10,"c-card-body")(11,"table",4)(12,"thead",5)(13,"tr")(14,"th",6),a(15,"Time"),t(),n(16,"th",6),a(17,"Asset Symbol"),t(),n(18,"th",6),a(19,"Transfer Type"),t(),n(20,"th",6),a(21,"Address"),t(),n(22,"th",6),a(23,"Tokens"),t(),n(24,"th",6),a(25," Price "),d(26,K,1,1),t(),n(27,"th",6),a(28," Value "),d(29,Q,1,1),t(),l(30,"th",6),t()(),n(31,"tbody"),d(32,W,2,1)(33,X,3,0,"tr")(34,Z,2,0),t()()()()()()),s&2&&(r(11),h("hover",!0)("responsive",!0)("striped",!0),r(15),p(c.transactions.length>0?26:-1),r(3),p(c.transactions.length>0?29:-1),r(3),p(c.isLoading?32:!c.isLoading&&c.transactions.length===0?33:34))},dependencies:[M,N,$,V,H,R,B,j,G,A,F,P],encapsulation:2})}}return e})();export{lt as TransactionListComponent};
