<div
  class="bg-light dark:bg-transparent min-vh-100 d-flex flex-row align-items-center"
>
  <c-container breakpoint="md">
    <c-row class="justify-content-center">
      <c-col lg="10" xl="8" class="mb-3">
        <div class="d-flex justify-content-center align-items-center">
          <svg
            width="358"
            height="65"
            viewBox="0 0 358 65"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="my-3"
          >
            <path
              d="M55.9999 0.5H7.99989C3.58161 0.5 0 4.08172 0 8.49999V56.5C0 60.9183 3.58161 64.5 7.99989 64.5H55.9999C60.4182 64.5 64.0001 60.9183 64.0001 56.5V8.49999C64.0001 4.08172 60.4182 0.5 55.9999 0.5Z"
              fill="#332EAE"
            />
            <path
              d="M31.5 11L31.5 21L21.5001 21L21.5001 11L31.5 11Z"
              fill="#08D0DD"
            />
            <path
              d="M42.5 22L42.5 32L32.5001 32L32.5001 22L42.5 22Z"
              fill="#08D0DD"
            />
            <path
              d="M31.5 22L31.5 32L21.5001 32L21.5001 22L31.5 22Z"
              fill="#08D0DD"
            />
            <path d="M21.5001 33H31.5V43H21.5001V33Z" fill="#D622FF" />
            <path d="M21.5001 44H31.5V54H21.5001V44Z" fill="#D622FF" />
            <path d="M32.5001 44H42.5V54H32.5001V44Z" fill="#D622FF" />
            <path
              d="M318.733 64.5V57.4248L343.183 26.8782V26.4784H319.536V17.2498H356.858V24.848L333.582 54.8715V55.2714H357.661V64.5H318.733Z"
              fill="white"
            />
            <path
              d="M299.492 64.5V17.2498H310.358V64.5H299.492Z"
              fill="white"
            />
            <path d="M304.346 0.5H299.13V5.69753H304.346V0.5Z" fill="#D622FF" />
            <path
              d="M304.346 6.13062H299.13V11.3281H304.346V6.13062Z"
              fill="#D622FF"
            />
            <path
              d="M309.997 6.13062H304.781V11.3281H309.997V6.13062Z"
              fill="#D622FF"
            />
            <path d="M280.25 64.5V17.2498H291.117V64.5H280.25Z" fill="white" />
            <path
              d="M285.503 5.69753V0.5H280.287V5.69753H285.503Z"
              fill="#08D0DD"
            />
            <path
              d="M291.154 11.3281V6.13062H285.938V11.3281H291.154Z"
              fill="#08D0DD"
            />
            <path
              d="M285.503 11.3281V6.13062H280.287V11.3281H285.503Z"
              fill="#08D0DD"
            />
            <path
              d="M205.194 64.0683V16.8182H215.876V24.847H216.431C217.419 22.14 219.055 20.0277 221.34 18.5101C223.624 16.972 226.351 16.2029 229.521 16.2029C232.731 16.2029 235.437 16.9822 237.64 18.5408C239.862 20.0789 241.426 22.181 242.332 24.847H242.826C243.875 22.222 245.645 20.1302 248.136 18.5716C250.647 16.9925 253.62 16.2029 257.057 16.2029C261.42 16.2029 264.981 17.577 267.739 20.325C270.496 23.0731 271.875 27.0824 271.875 32.3529V64.0683H260.669V34.0756C260.669 31.1429 259.887 28.9999 258.323 27.6463C256.759 26.2723 254.845 25.5853 252.581 25.5853C249.885 25.5853 247.776 26.4261 246.253 28.1078C244.75 29.7689 243.999 31.9325 243.999 34.5985V64.0683H233.04V33.6141C233.04 31.1737 232.299 29.2254 230.817 27.7694C229.356 26.3133 227.442 25.5853 225.075 25.5853C223.47 25.5853 222.009 25.9955 220.691 26.8158C219.374 27.6156 218.325 28.7538 217.543 30.2303C216.761 31.6864 216.37 33.3885 216.37 35.3368V64.0683H205.194Z"
              fill="white"
            />
            <path
              d="M169.777 64.1299V16.8797H180.613V24.7547H181.106C181.971 22.0272 183.453 19.9251 185.552 18.4486C187.672 16.9515 190.09 16.2029 192.806 16.2029C193.424 16.2029 194.113 16.2331 194.875 16.2951C195.657 16.3363 196.305 16.4081 196.82 16.5105V26.7541C196.346 26.5901 195.595 26.4465 194.566 26.3235C193.558 26.1799 192.58 26.1081 191.633 26.1081C189.596 26.1081 187.764 26.549 186.138 27.4308C184.533 28.2921 183.267 29.4918 182.341 31.0299C181.415 32.568 180.952 34.342 180.952 36.3517V64.1297L169.777 64.1299Z"
              fill="white"
            />
            <path
              d="M136.366 63.9752C133.361 63.9752 130.655 63.4419 128.247 62.3755C125.859 61.2886 123.966 59.689 122.566 57.5767C121.187 55.4644 120.498 52.8599 120.498 49.7632C120.498 47.0972 120.992 44.8926 121.98 43.1494C122.968 41.4062 124.316 40.0117 126.024 38.9658C127.732 37.9199 129.656 37.1303 131.797 36.5971C133.958 36.0434 136.191 35.6435 138.496 35.3974C141.274 35.1101 143.528 34.8539 145.256 34.6284C146.985 34.3823 148.241 34.0131 149.023 33.5209C149.825 33.0082 150.227 32.2187 150.227 31.1523V30.9678C150.227 28.6504 149.537 26.856 148.158 25.5845C146.779 24.313 144.793 23.6773 142.2 23.6773C139.463 23.6773 137.292 24.272 135.687 25.4614C134.102 26.6509 133.032 28.0557 132.476 29.6758L122.042 28.1992C122.865 25.3281 124.223 22.9287 126.117 21.001C128.01 19.0527 130.325 17.5967 133.062 16.6328C135.8 15.6484 138.825 15.1562 142.139 15.1562C144.423 15.1562 146.697 15.4227 148.961 15.956C151.225 16.4892 153.293 17.3711 155.166 18.6016C157.039 19.8115 158.541 21.4624 159.673 23.5542C160.826 25.646 161.402 28.2608 161.402 31.3985V63.0216H150.659V56.5309H150.288C149.609 57.8434 148.652 59.0739 147.417 60.2223C146.203 61.3502 144.67 62.2628 142.818 62.9601C140.986 63.6369 138.835 63.9752 136.366 63.9752ZM139.268 55.7925C141.511 55.7925 143.456 55.3516 145.102 54.4697C146.749 53.5674 148.014 52.3779 148.899 50.9014C149.805 49.4248 150.258 47.8149 150.258 46.0718V40.5039C149.908 40.7911 149.311 41.0576 148.467 41.3037C147.644 41.5497 146.718 41.7651 145.689 41.9497C144.66 42.1341 143.641 42.2982 142.632 42.4419C141.624 42.5855 140.749 42.7083 140.008 42.8111C138.341 43.0368 136.849 43.4058 135.532 43.9185C134.215 44.4312 133.176 45.149 132.414 46.0719C131.653 46.9742 131.272 48.1432 131.272 49.5787C131.272 51.6295 132.023 53.1778 133.526 54.2237C135.028 55.2697 136.942 55.7925 139.268 55.7925Z"
              fill="white"
            />
            <path
              d="M111.259 16.0078V24.6211H84V16.0078H111.259ZM90.73 4.6875H101.905V49.046C101.905 50.5431 102.131 51.6915 102.584 52.4913C103.058 53.2706 103.675 53.8038 104.436 54.0909C105.198 54.3782 106.042 54.5216 106.968 54.5216C107.668 54.5216 108.306 54.4702 108.882 54.3678C109.479 54.2654 109.932 54.1732 110.24 54.0908L112.123 62.7964C111.526 63.0016 110.672 63.2271 109.561 63.4732C108.47 63.7192 107.133 63.8628 105.548 63.9039C102.749 63.9859 100.228 63.5656 97.9845 62.6426C95.7412 61.6993 93.9612 60.2432 92.644 58.2745C91.3475 56.3057 90.7095 53.8447 90.73 50.8916V4.6875Z"
              fill="white"
            />
          </svg>
        </div>
      </c-col>
    </c-row>
    <c-row class="justify-content-center">
      <c-col lg="10" xl="8">
        <c-card-group>
          <c-card class="p-4">
            <c-card-body>
              <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" cForm>
                <h1>Login</h1>
                <p class="text-body-secondary">Sign In to your account</p>
                @if (errorMessage) {
                <c-alert color="danger">
                  <svg cIcon name="cilBellExclamation" size="sm"></svg>
                  <span>{{ errorMessage }}</span>
                </c-alert>
                }

                <c-input-group class="mb-3">
                  <span cInputGroupText>
                    <svg cIcon name="cilUser"></svg>
                  </span>
                  <input
                    autoComplete="username"
                    id="username"
                    cFormControl
                    formControlName="username"
                    [class]="{
                      'is-invalid':
                        loginForm.get('username')?.invalid &&
                        loginForm.get('username')?.touched
                    }"
                    placeholder="Username"
                  />
                </c-input-group>
                @if (loginForm.get('username')?.invalid &&
                (loginForm.get('username')?.dirty ||
                loginForm.get('username')?.touched)) {
                <div
                  class="text-danger mb-2 d-flex align-items-center justify-content-end"
                >
                  @if (loginForm.get('username')?.errors?.['required']) {
                  <small>Username is required</small>
                  }
                </div>
                }

                <c-input-group class="mb-4">
                  <span cInputGroupText>
                    <svg cIcon name="cilLockLocked"></svg>
                  </span>
                  <input
                    autoComplete="current-password"
                    id="current-password"
                    cFormControl
                    formControlName="password"
                    placeholder="Password"
                    type="password"
                    [class]="{
                      'is-invalid':
                        loginForm.get('password')?.invalid &&
                        loginForm.get('password')?.touched
                    }"
                  />
                </c-input-group>
                @if (loginForm.get('password')?.invalid &&
                (loginForm.get('password')?.dirty ||
                loginForm.get('password')?.touched)) {
                <div
                  class="text-danger mb-2 d-flex align-items-center justify-content-end"
                >
                  @if (loginForm.get('password')?.errors?.['required']) {
                  <small>Password is required</small>
                  } @if (loginForm.get('password')?.errors?.['minlength']) {
                  <small
                    >Password must be at least
                    {{loginForm.get('password')?.errors?.['minlength']?.requiredLength}}
                    characters</small
                  >
                  }
                </div>
                }

                <c-row>
                  <c-col xs="6">
                    <button
                      cButton
                      class="px-4"
                      color="primary"
                      type="submit"
                      [disabled]="loginForm.invalid || isLoading"
                    >
                      @if (isLoading) {
                      <c-spinner size="sm" />
                      Loading... } @else { Login }
                    </button>
                  </c-col>
                  <c-col class="text-right" xs="6">
                    <button cButton class="px-0" color="link" type="button">
                      Forgot password?
                    </button>
                  </c-col>
                </c-row>
              </form>
            </c-card-body>
          </c-card>
          <c-card
            [ngStyle]="{ 'minWidth.%': 44 }"
            class="text-white bg-primary py-5"
          >
            <c-card-body
              class="text-center d-flex flex-column justify-content-center"
            >
              <div>
                <h2>Join Our Mailing List</h2>
                <p>
                  Stay updated with the latest news and updates from our
                  platform.
                </p>
                @if (mailingListSuccess) {
                <c-alert color="success" class="d-flex gap-4 align-items-center justify-content-center">
                  <svg cIcon name="cilCheckCircle" size="sm"></svg>
                  <span>Successfully joined the mailing list!</span>
                </c-alert>

                }@else {

                <form
                  [formGroup]="mailingListForm"
                  (ngSubmit)="onJoinMailingList()"
                >
                  <c-button-group role="group" class="w-100">
                    <input
                      type="email"
                      name="email"
                      inputmode="email"
                      cFormControl
                      formControlName="email"
                      [class]="{
                        'is-invalid':
                          mailingListForm.get('email')?.invalid &&
                          mailingListForm.get('email')?.touched
                      }"
                      placeholder="Enter your email"
                    />
                    <button
                      cButton
                      color="secondary"
                      type="submit"
                      [disabled]="mailingListForm.invalid || isMailingListLoading"
                      style="white-space: pre"
                    >
                      @if (isMailingListLoading) {
                      <c-spinner size="sm" />
                      Loading... } @else { Join Now }
                    </button>
                  </c-button-group>
                </form>
                @if (mailingListForm.get('email')?.invalid &&
                (mailingListForm.get('email')?.dirty ||
                mailingListForm.get('email')?.touched)) {
                <div
                  class="text-danger mb-2 d-flex align-items-center justify-content-start"
                >
                  @if (mailingListForm.get('email')?.errors?.['required']) {
                  <small>Email is required</small>
                  } @else if (mailingListForm.get('email')?.errors?.['email']) {
                  <small>Invalid email format</small>
                  }
                </div>
                } }
              </div>
            </c-card-body>
          </c-card>
        </c-card-group>
      </c-col>
    </c-row>

    <c-row class="justify-content-center">
      <c-col lg="10" xl="8" class="my-3">
        <p class="d-flex align-items-center justify-content-center gap-2">
          <strong>Powered by</strong>
          <svg width="80" viewBox="0 0 274 64" fill="none">
            <path
              d="M234.733 64V56.9248L259.183 26.3782V25.9784H235.536V16.7498H272.858V24.348L249.582 54.3715V54.7714H273.661V64H234.733Z"
              fill="white"
            />
            <path d="M215.492 64V16.7498H226.358V64H215.492Z" fill="white" />
            <path d="M220.346 0H215.13V5.19753H220.346V0Z" fill="#D622FF" />
            <path
              d="M220.346 5.63062H215.13V10.8281H220.346V5.63062Z"
              fill="#D622FF"
            />
            <path
              d="M225.997 5.63062H220.781V10.8281H225.997V5.63062Z"
              fill="#D622FF"
            />
            <path d="M196.25 64V16.7498H207.117V64H196.25Z" fill="white" />
            <path
              d="M201.503 5.19753V0H196.287V5.19753H201.503Z"
              fill="#08D0DD"
            />
            <path
              d="M207.154 10.8281V5.63062H201.938V10.8281H207.154Z"
              fill="#08D0DD"
            />
            <path
              d="M201.503 10.8281V5.63062H196.287V10.8281H201.503Z"
              fill="#08D0DD"
            />
            <path
              d="M121.194 63.5683V16.3182H131.876V24.347H132.431C133.419 21.64 135.055 19.5277 137.34 18.0101C139.624 16.472 142.351 15.7029 145.521 15.7029C148.731 15.7029 151.437 16.4822 153.64 18.0408C155.862 19.5789 157.426 21.681 158.332 24.347H158.826C159.875 21.722 161.645 19.6302 164.136 18.0716C166.647 16.4925 169.62 15.7029 173.057 15.7029C177.42 15.7029 180.981 17.077 183.739 19.825C186.496 22.5731 187.875 26.5824 187.875 31.8529V63.5683H176.669V33.5756C176.669 30.6429 175.887 28.4999 174.323 27.1463C172.759 25.7723 170.845 25.0853 168.581 25.0853C165.885 25.0853 163.776 25.9261 162.253 27.6078C160.75 29.2689 159.999 31.4325 159.999 34.0985V63.5683H149.04V33.1141C149.04 30.6737 148.299 28.7254 146.817 27.2694C145.356 25.8133 143.442 25.0853 141.075 25.0853C139.47 25.0853 138.009 25.4955 136.691 26.3158C135.374 27.1156 134.325 28.2538 133.543 29.7303C132.761 31.1864 132.37 32.8885 132.37 34.8368V63.5683H121.194Z"
              fill="white"
            />
            <path
              d="M85.7773 63.6299V16.3797H96.6134V24.2547H97.1064C97.9713 21.5272 99.4533 19.4251 101.552 17.9486C103.672 16.4515 106.09 15.7029 108.806 15.7029C109.424 15.7029 110.113 15.7331 110.875 15.7951C111.657 15.8363 112.305 15.9081 112.82 16.0105V26.2541C112.346 26.0901 111.595 25.9465 110.566 25.8235C109.558 25.6799 108.58 25.6081 107.633 25.6081C105.596 25.6081 103.764 26.049 102.138 26.9308C100.533 27.7921 99.2674 28.9918 98.3414 30.5299C97.4154 32.068 96.9524 33.842 96.9524 35.8517V63.6297L85.7773 63.6299Z"
              fill="white"
            />
            <path
              d="M52.366 63.4752C49.361 63.4752 46.655 62.9419 44.247 61.8755C41.859 60.7886 39.966 59.189 38.566 57.0767C37.187 54.9644 36.498 52.3599 36.498 49.2632C36.498 46.5972 36.9921 44.3926 37.9801 42.6494C38.9681 40.9062 40.316 39.5117 42.024 38.4658C43.732 37.4199 45.656 36.6303 47.797 36.0971C49.958 35.5434 52.191 35.1435 54.496 34.8974C57.274 34.6101 59.528 34.3539 61.256 34.1284C62.985 33.8823 64.241 33.5131 65.0229 33.0209C65.825 32.5082 66.227 31.7187 66.227 30.6523V30.4678C66.227 28.1504 65.537 26.356 64.158 25.0845C62.779 23.813 60.793 23.1773 58.2 23.1773C55.463 23.1773 53.292 23.772 51.687 24.9614C50.102 26.1509 49.032 27.5557 48.476 29.1758L38.042 27.6992C38.865 24.8281 40.2231 22.4287 42.117 20.501C44.0101 18.5527 46.325 17.0967 49.062 16.1328C51.8 15.1484 54.825 14.6562 58.139 14.6562C60.423 14.6562 62.697 14.9227 64.961 15.456C67.225 15.9892 69.2931 16.8711 71.1661 18.1016C73.039 19.3115 74.541 20.9624 75.673 23.0542C76.826 25.146 77.402 27.7608 77.402 30.8985V62.5216H66.659V56.0309H66.2879C65.6089 57.3434 64.6518 58.5739 63.4168 59.7223C62.2028 60.8502 60.6699 61.7628 58.8179 62.4601C56.9859 63.1369 54.835 63.4752 52.366 63.4752ZM55.268 55.2925C57.511 55.2925 59.456 54.8516 61.102 53.9697C62.749 53.0674 64.014 51.8779 64.8991 50.4014C65.8051 48.9248 66.258 47.3149 66.258 45.5718V40.0039C65.908 40.2911 65.311 40.5576 64.467 40.8037C63.644 41.0497 62.718 41.2651 61.689 41.4497C60.66 41.6341 59.641 41.7982 58.632 41.9419C57.624 42.0855 56.749 42.2083 56.008 42.3111C54.341 42.5368 52.849 42.9058 51.532 43.4185C50.2149 43.9312 49.176 44.649 48.414 45.5719C47.653 46.4742 47.272 47.6432 47.272 49.0787C47.272 51.1295 48.023 52.6778 49.526 53.7237C51.028 54.7697 52.942 55.2925 55.268 55.2925Z"
              fill="white"
            />
            <path
              d="M27.2591 15.5078V24.1211H0V15.5078H27.2591ZM6.72998 4.1875H17.905V48.546C17.905 50.0431 18.1312 51.1915 18.5841 51.9913C19.0581 52.7706 19.6751 53.3038 20.4361 53.5909C21.1981 53.8782 22.0421 54.0216 22.9681 54.0216C23.6681 54.0216 24.3062 53.9702 24.8822 53.8678C25.4791 53.7654 25.9321 53.6732 26.2401 53.5908L28.1232 62.2964C27.5261 62.5016 26.6721 62.7271 25.5611 62.9732C24.4701 63.2192 23.1332 63.3628 21.5482 63.4039C18.7492 63.4859 16.228 63.0656 13.9845 62.1426C11.7412 61.1993 9.96117 59.7432 8.64396 57.7745C7.34747 55.8057 6.70945 53.3447 6.72998 50.3916V4.1875Z"
              fill="white"
            />
          </svg>
        </p>
      </c-col>
    </c-row>
  </c-container>
</div>
