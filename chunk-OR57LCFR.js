import{a as U}from"./chunk-IWLDGLAP.js";import{Da as N,I as A,J as B,L as F,a as k,fa as M,ga as R,n as w,ta as j,ua as H,x as P}from"./chunk-H2UEIIB4.js";import{Cb as h,Gb as b,Ib as g,Jb as y,Kb as f,Lb as S,Mb as t,Nb as e,Ob as o,Xb as v,Zc as I,_c as D,cb as a,hb as u,hc as r,ic as c,jc as m,pa as E,pb as _,pc as L,qc as C,rc as d,tc as p,vb as T}from"./chunk-OF6GQXFW.js";var V=()=>[0,1,2,3,4],$=i=>["/transactions",i],G=i=>({"text-primary":i}),O=(i,l)=>l.transferId;function q(i,l){i&1&&(t(0,"tr")(1,"td")(2,"p",7),o(3,"span",8),e()(),t(4,"td")(5,"p",7),o(6,"span",8),e()(),t(7,"td")(8,"p",7),o(9,"span",8),e()(),t(10,"td")(11,"p",7),o(12,"span",8),e()(),t(13,"td")(14,"p",7),o(15,"span",8),e()(),t(16,"td")(17,"p",7),o(18,"span",8),e()(),t(19,"td")(20,"p",7),o(21,"span",8),e()(),t(22,"td")(23,"p",7),o(24,"span",8),e()()())}function z(i,l){i&1&&f(0,q,25,0,"tr",null,y),i&2&&S(L(0,V))}function J(i,l){i&1&&(t(0,"tr")(1,"td",9),r(2," No transactions available "),e()())}function K(i,l){if(i&1&&(t(0,"tr",10)(1,"td"),r(2),d(3,"date"),e(),t(4,"td"),r(5),e(),t(6,"td"),r(7),e(),t(8,"td")(9,"code"),r(10),e()(),t(11,"td"),r(12),e(),t(13,"td"),r(14),d(15,"number"),e(),t(16,"td"),r(17),d(18,"number"),e(),t(19,"td"),E(),o(20,"svg",11),e()()),i&2){let n=l.$implicit,s=v(2);h("routerLink",C(19,$,n.transferId)),a(2),c(p(3,10,n.time*1e3,"short")),a(3),c(n.asset.symbol),a(),b(C(21,G,n.action==="Buy")),a(),m(" ",n.action," "),a(3),m(" ",s.contractAddress===n.from?n.to:n.from," "),a(2),c(n.tokens),a(2),m(" ",p(15,13,n.price,"1.2-5")," "),a(3),m(" ",p(18,16,n.tokens*n.price,"1.2-5")," ")}}function Q(i,l){if(i&1&&f(0,K,21,23,"tr",10,O),i&2){let n=v();S(n.transactions)}}var re=(()=>{class i{constructor(n,s){this.http=n,this.userService=s,this.contractAddress=null,this.transactions=[],this.isLoading=!0}ngOnInit(){this.userService.getUser().subscribe(n=>{this.contractAddress=n?.contacts?.find(s=>s.typeName==="Email")?.address||null}),this.http.get("/issuer/asset/transfers/100").subscribe({next:({transfers:n})=>{this.transactions=n,this.isLoading=!1},error:()=>{this.isLoading=!1}})}static{this.\u0275fac=function(s){return new(s||i)(u(k),u(U))}}static{this.\u0275cmp=_({type:i,selectors:[["app-transaction-list"]],decls:33,vars:4,consts:[[1,"mb-4"],[2,"margin","0"],["xs",""],[1,"mb-0"],["cTable","",1,"mb-0","border",3,"hover","responsive","striped"],[1,"text-nowrap","text-truncate"],[1,"bg-body-tertiary"],["cPlaceholderAnimation","glow",2,"margin","0"],["cCol","12","cPlaceholder","",2,"border-radius","1rem","width","100%"],["colspan","8",1,"text-center",2,"padding-top","10rem","padding-bottom","10rem"],[2,"cursor","pointer",3,"routerLink"],["cIcon","","name","cilChevronRight"]],template:function(s,x){s&1&&(t(0,"c-row",0)(1,"c-col")(2,"h3",1),r(3,"Transactions"),e()()(),t(4,"c-row")(5,"c-col",2)(6,"c-card",0)(7,"c-card-header")(8,"h5",3),r(9,"Transaction List"),e()(),t(10,"c-card-body")(11,"table",4)(12,"thead",5)(13,"tr")(14,"th",6),r(15,"Time"),e(),t(16,"th",6),r(17,"Symbol"),e(),t(18,"th",6),r(19,"Type"),e(),t(20,"th",6),r(21,"Address"),e(),t(22,"th",6),r(23,"Tokens"),e(),t(24,"th",6),r(25," Price "),e(),t(26,"th",6),r(27," Value "),e(),o(28,"th",6),e()(),t(29,"tbody"),T(30,z,2,1)(31,J,3,0,"tr")(32,Q,2,0),e()()()()()()),s&2&&(a(11),h("hover",!0)("responsive",!0)("striped",!0),a(19),g(x.isLoading?30:!x.isLoading&&x.transactions.length===0?31:32))},dependencies:[A,N,R,M,F,B,P,j,H,I,w,D],encapsulation:2})}}return i})();export{re as TransactionListComponent};
